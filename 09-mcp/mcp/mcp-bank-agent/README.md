# MCP Bank Agent Server

MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∞–ª—é—Ç.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç MCP —Å–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ –∞–≥–µ–Ω—Ç–∞:

1. **search_products** - –ø–æ–∏—Å–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –±–∞–Ω–∫–∞ (–≤–∫–ª–∞–¥—ã, –∫—Ä–µ–¥–∏—Ç—ã, –∫–∞—Ä—Ç—ã, —Å—á–µ—Ç–∞)
2. **currency_converter** - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∞–ª—é—Ç –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –∫—É—Ä—Å–∞–º –¶–ë –†–§

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
make install
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
make run
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000/mcp`

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ

```bash
make info
```

## üõ† –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### 1. search_products

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –≥–∏–±–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `product_type` - —Ç–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞: `deposit`, `credit`, `debit_card`, `credit_card`, `account`
- `keyword` - –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏–∏
- `min_amount` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ (–∏—â–µ—Ç –ø—Ä–æ–¥—É–∫—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ—Ç —ç—Ç–æ–π —Å—É–º–º—ã)
- `max_amount` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ (–∏—â–µ—Ç –ø—Ä–æ–¥—É–∫—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–æ —ç—Ç–æ–π —Å—É–º–º—ã)
- `min_rate` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞
- `max_rate` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞
- `currency` - –≤–∞–ª—é—Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–∞: `RUB`, `USD`, `EUR`

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

```python
# –ù–∞–π—Ç–∏ –≤—Å–µ –≤–∫–ª–∞–¥—ã
search_products(product_type="deposit")

# –ù–∞–π—Ç–∏ –≤–∫–ª–∞–¥—ã —Å —Å—Ç–∞–≤–∫–æ–π –æ—Ç 15%
search_products(product_type="deposit", min_rate=15.0)

# –ù–∞–π—Ç–∏ –∫—Ä–µ–¥–∏—Ç—ã –¥–æ 1 –º–ª–Ω —Ä—É–±–ª–µ–π
search_products(product_type="credit", max_amount=1000000)

# –ù–∞–π—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç—ã —Å –∫–µ—à–±—ç–∫–æ–º
search_products(keyword="–∫–µ—à–±—ç–∫")

# –ù–∞–π—Ç–∏ –∫—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã —Å –±–µ—Å–ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º
search_products(product_type="credit_card", keyword="–±–µ–∑ %")
```

**–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (—Ç–æ–ø-10) —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
- –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (–¥–ª—è –≤–∫–ª–∞–¥–æ–≤ –∏ –∫—Ä–µ–¥–∏—Ç–æ–≤)
- –î–∏–∞–ø–∞–∑–æ–Ω —Å—É–º–º
- –°—Ä–æ–∫
- –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∞

### 2. currency_converter

–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∞–ª—é—Ç –ø–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –∫—É—Ä—Å–∞–º –¶–ë –†–§ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –≤–∞–ª—é—Ç.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `from_currency` - –∏—Å—Ö–æ–¥–Ω–∞—è –≤–∞–ª—é—Ç–∞: `RUB`, `USD`, `EUR`, `CNY`, `GBP`, `CHF`, `JPY`, `TRY`
- `to_currency` - —Ü–µ–ª–µ–≤–∞—è –≤–∞–ª—é—Ç–∞: `RUB`, `USD`, `EUR`, `CNY`, `GBP`, `CHF`, `JPY`, `TRY`
- `amount` - —Å—É–º–º–∞ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ - –≤–µ—Ä–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫—É—Ä—Å)

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

```python
# –£–∑–Ω–∞—Ç—å –∫—É—Ä—Å –¥–æ–ª–ª–∞—Ä–∞ –∫ —Ä—É–±–ª—é
currency_converter(from_currency="USD", to_currency="RUB")

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å 100 –¥–æ–ª–ª–∞—Ä–æ–≤ –≤ —Ä—É–±–ª–∏
currency_converter(from_currency="USD", to_currency="RUB", amount=100)

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å 1000 —Ä—É–±–ª–µ–π –≤ –µ–≤—Ä–æ
currency_converter(from_currency="RUB", to_currency="EUR", amount=1000)

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ–ª–ª–∞—Ä—ã –≤ –µ–≤—Ä–æ (—á–µ—Ä–µ–∑ —Ä—É–±–ª–∏)
currency_converter(from_currency="USD", to_currency="EUR", amount=100)
```

**–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- –†–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Å—É–º–º—ã (–µ—Å–ª–∏ amount —É–∫–∞–∑–∞–Ω)
- –¢–µ–∫—É—â–∏–π –∫—É—Ä—Å –≤–∞–ª—é—Ç
- –û–±—Ä–∞—Ç–Ω—ã–π –∫—É—Ä—Å –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** API –¶–ë –†–§ (https://www.cbr-xml-daily.ru/latest.js)

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤

–ë–∞–∑–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `data/bank_products.json`.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–¥—É–∫—Ç–∞:**

```json
{
  "id": "deposit_01",
  "product_type": "deposit",
  "name": "–í–∫–ª–∞–¥ –ü–æ–ø–æ–ª–Ω—è–π",
  "description": "–í–∫–ª–∞–¥ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ —Å–Ω—è—Ç–∏—è",
  "rate_min": 15.0,
  "rate_max": 16.0,
  "amount_min": 1000,
  "amount_max": 10000000,
  "currency": "RUB",
  "term_months": "3-36",
  "features": ["–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ", "—á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–Ω—è—Ç–∏–µ", "–æ–Ω–ª–∞–π–Ω –æ—Ç–∫—Ä—ã—Ç–∏–µ"]
}
```

**–¢–∏–ø—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤:**
- `deposit` - –≤–∫–ª–∞–¥—ã
- `credit` - –∫—Ä–µ–¥–∏—Ç—ã
- `debit_card` - –¥–µ–±–µ—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã
- `credit_card` - –∫—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã
- `account` - —Å—á–µ—Ç–∞

**–¢–µ–∫—É—â–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã (14 —à—Ç—É–∫):**
- 4 –≤–∫–ª–∞–¥–∞ (–ü–æ–ø–æ–ª–Ω—è–π, –°–æ—Ö—Ä–∞–Ω—è–π, –ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π —Å—á—ë—Ç, –ü–µ–Ω—Å–∏–æ–Ω–Ω—ã–π)
- 3 –∫—Ä–µ–¥–∏—Ç–∞ (–Ω–∞–ª–∏—á–Ω—ã–º–∏, —Ä–µ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ–¥ –∑–∞–ª–æ–≥)
- 3 –¥–µ–±–µ—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã (–°–±–µ—Ä–ö–∞—Ä—Ç–∞, –ó–æ–ª–æ—Ç–∞—è, –ú–æ–ª–æ–¥—ë–∂–Ω–∞—è)
- 2 –∫—Ä–µ–¥–∏—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã (–°–±–µ—Ä–ö–∞—Ä—Ç–∞, –ó–æ–ª–æ—Ç–∞—è)
- 2 —Å—á–µ—Ç–∞ (–ú—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω—ã–π, –ó–∞—Ä–ø–ª–∞—Ç–Ω—ã–π)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç:** streamable-http (HTTP MCP server)  
**–ü–æ—Ä—Ç:** 8000 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è FastMCP)  
**URL:** http://localhost:8000/mcp

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `mcp>=1.11.0` - FastMCP framework
- `requests>=2.31.0` - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è API –¶–ë –†–§

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** INFO level, –≤—Å–µ –≤–∞–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

## üéØ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

### rag_search (–∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞)
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –±–∞–Ω–∫–∞ (PDF)
- –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ —É—Å–ª–æ–≤–∏—è
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –ø–æ–ª–∏—Ç–∏–∫–∏
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ

### search_products (—ç—Ç–æ—Ç MCP —Å–µ—Ä–≤–µ—Ä)
- –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –±–∞–Ω–∫–∞
- –¢–µ–∫—É—â–∏–µ —Å—Ç–∞–≤–∫–∏ –∏ —É—Å–ª–æ–≤–∏—è
- –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ

### currency_converter (—ç—Ç–æ—Ç MCP —Å–µ—Ä–≤–µ—Ä)
- –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –º–µ–∂–¥—É –≤–∞–ª—é—Ç–∞–º–∏
- –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¶–ë –†–§

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ MCP –∫–ª–∏–µ–Ω—Ç –∏–ª–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –∞–≥–µ–Ω—Ç–æ–º.

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
curl http://localhost:8000/mcp

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–∞–∑–µ
make info
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –¥–∏–∞–ª–æ–≥–æ–≤ —Å –∞–≥–µ–Ω—Ç–æ–º

–ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±–∞–Ω–∫–æ–≤—Å–∫–∏–º –∞–≥–µ–Ω—Ç–æ–º:

```
üë§ –ö–∞–∫–∏–µ —Å–µ–π—á–∞—Å —Å—Ç–∞–≤–∫–∏ –ø–æ –≤–∫–ª–∞–¥–∞–º?
ü§ñ [–ê–≥–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç search_products(product_type="deposit")]
   –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –≤–∫–ª–∞–¥—ã –°–±–µ—Ä–±–∞–Ω–∫–∞:
   
   1. –í–∫–ª–∞–¥ –°–æ—Ö—Ä–∞–Ω—è–π
      –°—Ç–∞–≤–∫–∞: –æ—Ç 16% –¥–æ 17% –≥–æ–¥–æ–≤—ã—Ö
      –°—É–º–º–∞: –æ—Ç 50,000 –¥–æ 10,000,000 ‚ÇΩ
      ...

üë§ –ö–∞–∫–æ–π —Å–µ–π—á–∞—Å –∫—É—Ä—Å –¥–æ–ª–ª–∞—Ä–∞?
ü§ñ [–ê–≥–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç currency_converter(from="USD", to="RUB")]
   –¢–µ–∫—É—â–∏–π –∫—É—Ä—Å USD –∫ RUB: 97.88‚ÇΩ
   (–¥–∞–Ω–Ω—ã–µ –¶–ë –†–§ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è)

üë§ –°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 1000 –¥–æ–ª–ª–∞—Ä–æ–≤ –≤ —Ä—É–±–ª—è—Ö?
ü§ñ [–ê–≥–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç currency_converter(from="USD", to="RUB", amount=1000)]
   1,000 USD = 97,880 RUB
   
   –¢–µ–∫—É—â–∏–π –∫—É—Ä—Å: 1 USD = 97.88 RUB
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–¥—É–∫—Ç—ã –±–∞–Ω–∫–∞:**
–û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `data/bank_products.json`.

**–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç:**
–û–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ `currency_converter` —á–µ—Ä–µ–∑ API –¶–ë –†–§.

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [Model Context Protocol (MCP)](https://modelcontextprotocol.io/)
- [FastMCP Documentation](https://github.com/modelcontextprotocol/python-sdk)
- [API –¶–ë –†–§](https://www.cbr-xml-daily.ru/)

