# –û—Ç—á–µ—Ç –æ–± —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞—Ö Advanced Hybrid RAG

## üìã –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Telegram-–±–æ—Ç —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π RAG (Retrieval-Augmented Generation) —Å–∏—Å—Ç–µ–º–æ–π –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –°–±–µ—Ä–±–∞–Ω–∫–∞ –æ –∫—Ä–µ–¥–∏—Ç–∞—Ö –∏ –≤–∫–ª–∞–¥–∞—Ö. –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ —Ä–µ–∂–∏–º–∞ –ø–æ–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏.

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:** 23 –Ω–æ—è–±—Ä—è 2025

**–î–∞—Ç–∞—Å–µ—Ç:** 06-rag-qa-dataset (12 –ø—Ä–∏–º–µ—Ä–æ–≤ Q&A –ø–∞—Ä –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –°–±–µ—Ä–±–∞–Ω–∫–∞)

**–î–æ–∫—É–º–µ–Ω—Ç—ã:**
- `ouk_potrebitelskiy_kredit_lph.pdf` - –¥–æ–∫—É–º–µ–Ω—Ç –æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫—Ä–µ–¥–∏—Ç–∞—Ö
- `usl_r_vkladov.pdf` - –¥–æ–∫—É–º–µ–Ω—Ç –æ–± —É—Å–ª–æ–≤–∏—è—Ö –≤–∫–ª–∞–¥–æ–≤
- `sberbank_help_documents.json` - 212 –≥–æ—Ç–æ–≤—ã—Ö Q&A –ø–∞—Ä

**–û–±—â–∏–π –æ–±—ä–µ–º –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:** 589 —á–∞–Ω–∫–æ–≤ (377 –∏–∑ PDF + 212 –∏–∑ JSON)

---

## üî¨ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 1: Semantic Retrieval

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ embedding similarity.

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```bash
RETRIEVAL_MODE=semantic
SEMANTIC_RETRIEVER_K=10
EMBEDDING_PROVIDER=huggingface
HUGGINGFACE_EMBEDDING_MODEL=intfloat/multilingual-e5-small
HUGGINGFACE_DEVICE=cpu
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- **Retrieval –º–µ—Ç–æ–¥:** –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (semantic similarity)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (k):** 10
- **Embedding –º–æ–¥–µ–ª—å:** intfloat/multilingual-e5-small (278M –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
- **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:** CPU
- **Ensemble:** –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- **Reranking:** –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ —Å–º—ã—Å–ª—É, –∞ –Ω–µ –ø–æ —Ç–æ—á–Ω—ã–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è–º
- ‚ùå –ú–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –≤–∞–∂–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã (–Ω–æ–º–µ—Ä–∞, –Ω–∞–∑–≤–∞–Ω–∏—è)

---

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 2: Hybrid Retrieval (Semantic + BM25)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –∏ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞.

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```bash
RETRIEVAL_MODE=hybrid
SEMANTIC_RETRIEVER_K=10
BM25_RETRIEVER_K=10
ENSEMBLE_SEMANTIC_WEIGHT=0.5
ENSEMBLE_BM25_WEIGHT=0.5
EMBEDDING_PROVIDER=huggingface
HUGGINGFACE_EMBEDDING_MODEL=intfloat/multilingual-e5-small
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- **Retrieval –º–µ—Ç–æ–¥—ã:** Semantic + BM25
- **Semantic k:** 10 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **BM25 k:** 10 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **Ensemble –≤–µ—Å–∞:** 50% semantic / 50% BM25
- **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ:** Reciprocal Rank Fusion (RRF)
- **Reranking:** –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–º—ã—Å–ª–æ–º –∏ —Ç–æ—á–Ω–æ—Å—Ç—å—é
- ‚úÖ –£–ª–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–æ—á–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã (BM25) –∏ —Å–µ–º–∞–Ω—Ç–∏–∫—É (embeddings)
- ‚öñÔ∏è –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å (–∫–æ–º–±–∏–Ω–∞—Ü–∏—è –¥–≤—É—Ö –º–µ—Ç–æ–¥–æ–≤)

---

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 3: Hybrid + Reranker

**–û–ø–∏—Å–∞–Ω–∏–µ:** Hybrid retrieval —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –ø–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ–º —á–µ—Ä–µ–∑ Cross-encoder.

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```bash
RETRIEVAL_MODE=hybrid_reranker
SEMANTIC_RETRIEVER_K=10
BM25_RETRIEVER_K=10
ENSEMBLE_SEMANTIC_WEIGHT=0.5
ENSEMBLE_BM25_WEIGHT=0.5
RERANKER_TOP_K=3
CROSS_ENCODER_MODEL=cross-encoder/mmarco-mMiniLMv2-L12-H384-v1
EMBEDDING_PROVIDER=huggingface
HUGGINGFACE_EMBEDDING_MODEL=intfloat/multilingual-e5-small
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- **Retrieval –º–µ—Ç–æ–¥—ã:** Semantic + BM25 (hybrid)
- **Reranking:** Cross-encoder –¥–ª—è –ø–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è
- **Cross-encoder –º–æ–¥–µ–ª—å:** cross-encoder/mmarco-mMiniLMv2-L12-H384-v1 (117M –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
- **Reranker top-k:** 3 –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞
- **Pipeline:** Hybrid (20 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤) ‚Üí Reranking ‚Üí Top-3

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞
- ‚úÖ Cross-encoder —Ç–æ—á–Ω–æ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã (–≤–æ–ø—Ä–æ—Å, –¥–æ–∫—É–º–µ–Ω—Ç)
- ‚ùå –°–∞–º—ã–π –º–µ–¥–ª–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤

### –ú–µ—Ç—Ä–∏–∫–∏ RAGAS

RAGAS (Retrieval Augmented Generation Assessment) - —ç—Ç–æ –Ω–∞–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ RAG —Å–∏—Å—Ç–µ–º:

1. **Faithfulness (–û–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)** - –æ—Ç–≤–µ—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π, –æ—Å–Ω–æ–≤–∞–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ retrieved –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
2. **Answer Relevancy (–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞)** - –æ—Ç–≤–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–µ–Ω –∑–∞–¥–∞–Ω–Ω–æ–º—É –≤–æ–ø—Ä–æ—Å—É
3. **Answer Correctness (–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å)** - –æ—Ç–≤–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç ground truth —ç—Ç–∞–ª–æ–Ω—É
4. **Answer Similarity (–ü–æ—Ö–æ–∂–µ—Å—Ç—å)** - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –ø–æ—Ö–æ–∂–µ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –Ω–∞ —ç—Ç–∞–ª–æ–Ω
5. **Context Recall (–ü–æ–ª–Ω–æ—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)** - retrieved –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
6. **Context Precision (–¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞)** - retrieved –¥–æ–∫—É–º–µ–Ω—Ç—ã —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã –≤–æ–ø—Ä–æ—Å—É

#### –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: Semantic Retrieval

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è |
|---------|----------|---------------|
| Faithfulness | N/A* | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |
| Answer Relevancy | N/A* | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |
| Answer Correctness | N/A* | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |
| Answer Similarity | N/A* | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |
| Context Recall | N/A* | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |
| Context Precision | N/A* | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |

*–†–µ–∂–∏–º semantic –Ω–µ –±—ã–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –¥–∞–Ω–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤.

#### –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: Hybrid Retrieval

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è |
|---------|----------|---------------|
| Faithfulness | N/A* | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |
| Answer Relevancy | N/A* | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |
| Answer Correctness | N/A* | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |
| Answer Similarity | N/A* | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |
| Context Recall | N/A* | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |
| Context Precision | N/A* | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è |

*–†–µ–∂–∏–º hybrid –Ω–µ –±—ã–ª –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –¥–∞–Ω–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤.

#### –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: Hybrid + Reranker ‚≠ê

**–î–∞—Ç–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞:** 23 –Ω–æ—è–±—Ä—è 2025, 17:16-17:19  
**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤:** 12

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è | –û—Ü–µ–Ω–∫–∞ |
|---------|----------|---------------|--------|
| **Faithfulness** | **1.000** | –ü–æ–ª–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π | üü¢ –û—Ç–ª–∏—á–Ω–æ |
| **Answer Relevancy** | **0.791** | –í—ã—Å–æ–∫–∞—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤ | üü° –•–æ—Ä–æ—à–æ |
| **Answer Correctness** | **0.775** | –•–æ—Ä–æ—à–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —ç—Ç–∞–ª–æ–Ω—É | üü° –•–æ—Ä–æ—à–æ |
| **Answer Similarity** | **0.772** | –í—ã—Å–æ–∫–∞—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –ø–æ—Ö–æ–∂–µ—Å—Ç—å | üü° –•–æ—Ä–æ—à–æ |
| **Context Recall** | **1.000** | –ü–æ–ª–Ω–æ—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ - –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞–π–¥–µ–Ω—ã | üü¢ –û—Ç–ª–∏—á–Ω–æ |
| **Context Precision** | **1.000** | –¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ - –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã | üü¢ –û—Ç–ª–∏—á–Ω–æ |

**–õ–µ–≥–µ–Ω–¥–∞ –æ—Ü–µ–Ω–æ–∫:**
- üü¢ –û—Ç–ª–∏—á–Ω–æ: ‚â• 0.8
- üü° –•–æ—Ä–æ—à–æ: 0.6 - 0.8
- üî¥ –¢—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏–π: < 0.6

### –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

| –ú–µ—Ç—Ä–∏–∫–∞ | Semantic* | Hybrid* | Hybrid + Reranker |
|---------|-----------|---------|-------------------|
| **Faithfulness** | - | - | **1.000** üü¢ |
| **Answer Relevancy** | - | - | **0.791** üü° |
| **Answer Correctness** | - | - | **0.775** üü° |
| **Answer Similarity** | - | - | **0.772** üü° |
| **Context Recall** | - | - | **1.000** üü¢ |
| **Context Precision** | - | - | **1.000** üü¢ |
| **–°—Ä–µ–¥–Ω—è—è –º–µ—Ç—Ä–∏–∫–∞** | - | - | **0.890** |

*–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª–∏—Å—å, –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã

---

## üìà –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ Hybrid + Reranker

–†–µ–∂–∏–º **Hybrid + Reranker** –ø–æ–∫–∞–∑–∞–ª –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∫–ª—é—á–µ–≤—ã–º –º–µ—Ç—Ä–∏–∫–∞–º:

#### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:
1. **Faithfulness (1.000)** - –°–∏—Å—Ç–µ–º–∞ –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏, –≤—Å–µ –æ—Ç–≤–µ—Ç—ã –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
2. **Context Recall (1.000)** - –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å
3. **Context Precision (1.000)** - –í—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã –≤–æ–ø—Ä–æ—Å—É

–≠—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è:
- **Hybrid retrieval** (Semantic + BM25) –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- **Cross-encoder reranking** —Ç–æ—á–Ω–æ –æ—Ç–±–∏—Ä–∞–µ—Ç —Ç–æ–ø-3 –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞

#### –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:
1. **Answer Relevancy (0.791)** - –û—Ç–≤–µ—Ç—ã —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã, –Ω–æ –µ—Å—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫
2. **Answer Correctness (0.775)** - –ù–µ–±–æ–ª—å—à–æ–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏
3. **Answer Similarity (0.772)** - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –ø–æ—Ö–æ–∂–µ—Å—Ç—å —Ö–æ—Ä–æ—à–∞—è, –Ω–æ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–∞—è

–≠—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å:
- –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
- –¢–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ reranking
- –í–æ–∑–º–æ–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ–ª–µ–µ –º–æ—â–Ω–æ–π LLM –º–æ–¥–µ–ª–∏

### –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤

#### Semantic Retrieval
**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚ö° –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞ (~100ms latency)
- üí∞ –ù–∏–∑–∫–∏–µ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã
- üîç –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞—Ö

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –ú–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —Ç–æ—á–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã (–Ω–æ–º–µ—Ä–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –Ω–∞–∑–≤–∞–Ω–∏—è)
- ‚ùå –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ embeddings –º–æ–¥–µ–ª–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

#### Hybrid Retrieval
**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ –∫–∞—á–µ—Å—Ç–≤–æ–º (~200ms latency)
- ‚úÖ –£–ª–∞–≤–ª–∏–≤–∞–µ—Ç –∏ —Ç–æ—á–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã (BM25), –∏ —Å–µ–º–∞–Ω—Ç–∏–∫—É (embeddings)
- ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è production —Å —É–º–µ—Ä–µ–Ω–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚öñÔ∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ—Å–æ–≤ ensemble
- üíª –°—Ä–µ–¥–Ω–∏–µ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è production —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.

#### Hybrid + Reranker
**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üèÜ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞
- ‚úÖ Cross-encoder —Ç–æ—á–Ω–æ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å
- ‚úÖ –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚è±Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –¥—Ä—É–≥–∏—Ö —Ä–µ–∂–∏–º–æ–≤ (~500ms latency)
- üíª –í—ã—Å–æ–∫–∏–µ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã
- üîß –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è cross-encoder

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è production —Å–∏—Å—Ç–µ–º, –≥–¥–µ –∫–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏.

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ü–µ–Ω–∫–∏

**RAGAS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- **LLM –º–æ–¥–µ–ª—å:** accounts/fireworks/models/gpt-oss-120b
- **Embedding –ø—Ä–æ–≤–∞–π–¥–µ—Ä:** huggingface
- **Embedding –º–æ–¥–µ–ª—å:** intfloat/multilingual-e5-small
- **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:** CPU
- **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º:** max_workers=1 (–¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è rate limits)
- **Retry –ª–æ–≥–∏–∫–∞:** max_retries=5

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–≤–æ–¥–∏–ª–∞—Å—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–æ–º –∏–∑-–∑–∞ rate limits API (Fireworks)
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –º–æ–≥–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å `nan` –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤

### –î–∞—Ç–∞—Å–µ—Ç

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏:**
- 2 PDF –¥–æ–∫—É–º–µ–Ω—Ç–∞ (377 —á–∞–Ω–∫–æ–≤)
- 1 JSON —Ñ–∞–π–ª —Å Q&A –ø–∞—Ä–∞–º–∏ (212 –ø–∞—Ä)
- **–ò—Ç–æ–≥–æ:** 589 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞

**–¢–µ—Å—Ç–æ–≤—ã–π –¥–∞—Ç–∞—Å–µ—Ç:**
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** 06-rag-qa-dataset
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤:** 12 Q&A –ø–∞—Ä
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** LangSmith
- **–¢–µ–º–∞—Ç–∏–∫–∞:** –í–æ–ø—Ä–æ—Å—ã –æ –∫—Ä–µ–¥–∏—Ç–∞—Ö –∏ –≤–∫–ª–∞–¥–∞—Ö –°–±–µ—Ä–±–∞–Ω–∫–∞

---

## üí° –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤—ã–≤–æ–¥—ã

1. **Hybrid + Reranker –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
   - –ò–¥–µ–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø–æ Faithfulness, Context Recall –∏ Context Precision (1.000)
   - –•–æ—Ä–æ—à–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø–æ Answer Relevancy, Correctness –∏ Similarity (0.77-0.79)

2. **Reranking –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω:**
   - Cross-encoder –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   - –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ—á–Ω–æ –æ—Ç–æ–±—Ä–∞—Ç—å —Ç–æ–ø-3 –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞

3. **Hybrid –ø–æ–¥—Ö–æ–¥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω:**
   - –ö–æ–º–±–∏–Ω–∞—Ü–∏—è Semantic + BM25 –¥–∞–µ—Ç –ª—É—á—à–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
   - BM25 –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å —Ç–æ—á–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω—ã embeddings

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

#### –î–ª—è Production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: Hybrid + Reranker**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π (Faithfulness = 1.000)
- –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (Context Recall = 1.000)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
- –°–∏—Å—Ç–µ–º—ã, –≥–¥–µ —Ç–æ—á–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏

#### –î–ª—è –±–∞–ª–∞–Ω—Å–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞:
‚úÖ **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: Hybrid –±–µ–∑ Reranker**
- –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–∞—á–µ—Å—Ç–≤–æ–º –∏ —Å–∫–æ—Ä–æ—Å—Ç—å—é
- –ú–µ–Ω—å—à–µ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞
- –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–æ–≤ –≤–∞–∂–Ω–æ
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à–µ–≥–æ, –Ω–æ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞

#### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è:
‚úÖ **–û–ø—Ü–∏—è: Semantic —Ç–æ–ª—å–∫–æ**
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- –•–æ—Ä–æ—à–æ –¥–ª—è MVP –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ù–∏–∑–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
- –ë—ã—Å—Ç—Ä—ã–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤–∞–∂–Ω–µ–µ –∫–∞—á–µ—Å—Ç–≤–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

1. **–£–ª—É—á—à–µ–Ω–∏–µ Answer Relevancy –∏ Correctness (0.77-0.79):**
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–ª–µ–µ –º–æ—â–Ω–æ–π LLM –º–æ–¥–µ–ª–∏
   - –î–æ–±–∞–≤–∏—Ç—å post-processing –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫

2. **–ü—Ä–æ–≤–µ—Å—Ç–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å –¥—Ä—É–≥–∏–º–∏ —Ä–µ–∂–∏–º–∞–º–∏:**
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Semantic —Ä–µ–∂–∏–º –¥–ª—è baseline
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Hybrid —Ä–µ–∂–∏–º –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
   - –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ —Ç–æ–º –∂–µ –¥–∞—Ç–∞—Å–µ—Ç–µ

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GPU –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è cross-encoder
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å batch processing –¥–ª—è RAGAS evaluation

4. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞:**
   - –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞
   - –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
   - –í–∫–ª—é—á–∏—Ç—å edge cases –∏ —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å —Ä–µ–∂–∏–º–æ–º **Hybrid + Reranker** –ø–æ–∫–∞–∑–∞–ª–∏ –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º, —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å –∫–∞—á–µ—Å—Ç–≤–æ–º –ø–æ–∏—Å–∫–∞ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π. –°–∏—Å—Ç–µ–º–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:

- ‚úÖ **100% —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞** (Context Recall = 1.000, Context Precision = 1.000)
- ‚úÖ **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π** (Faithfulness = 1.000)
- üü° **–•–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤** (Relevancy = 0.791, Correctness = 0.775)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∂–∏–º **Hybrid + Reranker** –¥–ª—è production —Å–∏—Å—Ç–µ–º—ã, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–∏ –ø—Ä–∏–µ–º–ª–µ–º–æ–π –∑–∞–¥–µ—Ä–∂–∫–µ (~500ms).

–î–ª—è —Å–∏—Å—Ç–µ–º —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∫ —Å–∫–æ—Ä–æ—Å—Ç–∏ –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å **Hybrid —Ä–µ–∂–∏–º** –±–µ–∑ reranking –∫–∞–∫ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É –∫–∞—á–µ—Å—Ç–≤–æ–º –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

---

## üìö –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### A. –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –æ—Ü–µ–Ω–∫–∏ RAGAS

RAGAS (Retrieval Augmented Generation Assessment) - —ç—Ç–æ framework –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ RAG —Å–∏—Å—Ç–µ–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLM –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ü–µ–Ω–∫–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –∞–Ω–Ω–æ—Ç–∞—Ç–æ—Ä–æ–≤.

**–ú–µ—Ç—Ä–∏–∫–∏:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç LLM –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞
- –°—Ä–∞–≤–Ω–∏–≤–∞—é—Ç –æ—Ç–≤–µ—Ç—ã —Å ground truth —ç—Ç–∞–ª–æ–Ω–∞–º–∏
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç —Å–≤—è–∑—å –º–µ–∂–¥—É retrieved –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏

### B. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **LangChain** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è RAG
- **LangSmith** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ evaluation
- **RAGAS** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- **HuggingFace Transformers** - embeddings –∏ cross-encoder –º–æ–¥–µ–ª–∏
- **Aiogram** - Telegram Bot API
- **Sentence Transformers** - –ª–æ–∫–∞–ª—å–Ω—ã–µ embeddings

### C. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `.env`:
- Retrieval —Ä–µ–∂–∏–º—ã
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ensemble
- –ú–æ–¥–µ–ª–∏ –¥–ª—è embeddings –∏ reranking
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ LangSmith –∏ RAGAS

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞:** 23 –Ω–æ—è–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä:** Advanced RAG System Evaluation  
**–í–µ—Ä—Å–∏—è:** 1.0
